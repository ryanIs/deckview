<!--
  standard.js all json data from MTGA api pulled and stored at/from:
    https://mtgjson.com/downloads/all-files/
    let getGWUrl = id => `https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=${id}&type=card`


  Objectives:  
    [ ] Improve documentation
    [ ] Refactor to front-end framework like Angular.
    [ ] allow paste of code DIRECTLY into INPUT.js (instead of some minor vscode editing)
    [ ] show counts of cards wisely; (mtga full viewerr stacks them)
    [ ] filter by:
      [ ] creature
      [ ] artifact
      [ ] etc. all card types
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <script src="INPUT.js"></script>
  <script>
    // var url_string = "http://www.example.com/t.html?a=1&b=3&c=m2-m3-m4-m5"; 
    var url_string = window.location.href
    var url = new URL(url_string);
    var d = url.searchParams.get("d");
    console.log(url_string);

    if(d != null) {
      try {
      myDeckPasteStr = eval(d)
      // myDeckPasteStr = FUN
      // myDeckPasteStr = oneonly
      // myDeckPasteStr = mainsixty
      // myDeckPasteStr = originalsixty
      }
      catch {}
    }

    // Deck
    // 1 Arcane Bombardment (SNC) 101
    // last is empty enter 
    let myDeck = []

    // Parse into mydeck array
    let cardLines = myDeckPasteStr.trim()
    cardLines = myDeckPasteStr.split('\n')
    cardLines.pop() // remove last empty line
    cardLines.shift() // remove "Deck" first line 
    cardLines.shift() // remove "Deck" first line 
    myDeck = cardLines.map(card => {
      card = card.substr(2) // remove card count from beginning
      return card
    })

    // console.log(myDeck)
  </script>
  <script src="standard.js"></script>
  <title>ðŸŒ³ deck viewer all</title>
  <style>
    #nav {
      font-size: 2em;
      position: fixed;
      background: rgba(0,0,0,0.3);
    }
    #nav a {
      color: black;
      background: lightgray;
      border-radius: 30px;
      padding: 2px 10px;
      margin-right: 15px;
      text-decoration: none;
    }
    #nav a:hover {
      opacity: 0.5;
    }
    body {
      /* background: black; */
      background: #002200;
      color: white;
      font-family: Beleren, Arial;
      /* Trajan Sans Pro  */

      background-image: url("bg.jpg");
            background-position: center;
            background-size: 100% auto;
            /* background-c */
            /* background-size: auto; */
            background-repeat: no-repeat;
            background-attachment: fixed;
    }
    .outt {
      display: flex;
    }
    .outt img {
      display: block;
    }
    .cost {
      font-size: 2em;
      padding: 5px;
      margin: 5px;
      margin-left: 100px;
      /* background: #227722; */
      background: #000;
      border-radius: 10px 10px 0 0;
      border-bottom: 5px solid white;
    }
    .grouping {
      margin-bottom: 20px;
    }
  </style>
</head>

<body>
  FUN
oneonly
mainsixty
originalsixty
<div id="nav">
    <a href="#outt0">0</a>
    <a href="#outt1">1</a>
    <a href="#outt2">2</a>
    <a href="#outt3">3</a>
    <a href="#outt4">4</a>
    <a href="#outt5">5</a>
    <a href="#outt6">6</a>
    <a href="#outt7">7</a>
    <a href="#outt8">8</a>
    <a href="#outt9">9</a>
    <a href="#outt10">10</a>
    <a href="#outt11">11</a>
    <a href="#outt12">12</a>
    <a href="#outt13">13</a>
    <a href="#outt14">14</a>
    <a href="#outt15">15</a>
    <a href="#outt16">16</a>
    <a href="#outt17">17</a>
    <a href="#outt18">18</a>
    <a href="#outt19">19</a>
    <a href="#outt20">20</a>
    <a href="#outt21">21</a>
    <a href="#outt22">22</a>
    <a href="#outt23">23</a>
    <a href="#outt24">24</a>
    <a href="#outt25">25</a>
    <a href="#outt26">26</a>
    <a href="#outt27">27</a>
    <a href="#outt28">28</a>
    <a href="#outt29">29</a>
    <a href="#outt30">30</a>
</div>

  <br />
  <br />
  <hr />
  <br />
  <br />

 <span class="cost"> 0 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt0"></div>
 <span class="cost"> 1 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt1"></div>
 <span class="cost"> 2 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt2"></div>
 <span class="cost"> 3 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt3"></div>
 <span class="cost"> 4 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt4"></div>
 <span class="cost"> 5 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt5"></div>
 <span class="cost"> 6 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt6"></div>
 <span class="cost"> 7 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt7"></div>
 <span class="cost"> 8 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt8"></div>
 <span class="cost"> 9 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt9"></div>
  <span class="cost">10 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt10"></div>
  <span class="cost">11 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt11"></div>
  <span class="cost">12 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt12"></div>
  <span class="cost">13 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt13"></div>
  <span class="cost">14 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt14"></div>
  <span class="cost">15 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt15"></div>
  <span class="cost">16 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt16"></div>
  <span class="cost">17 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt17"></div>
  <span class="cost">18 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt18"></div>
  <span class="cost">19 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt19"></div>
  <span class="cost">20 cost</span> <a href="#nav">&#127968;</a>
  <div class="grouping" id="outt20"></div>
  <span class="cost">21 cost</span> <a href="#nav">&#127968;</a>
</body>

<script>
  // console.log(standard.data.BRO.cards.filter(o => o.name.indexOf('Gix\'s Command')!=-1)) 
  // console.log(standard.data.BRO.cards.filter(o => o.name.indexOf('Gix')!=-1)) 
  // standard.data.BRO.cards.filter(o => o.name.indexOf('Gix\'s Command') != -1)[0].identifiers.multiverseId

  let myDeckSrcs = myDeck.map(myCardNameFull => {
    if(myCardNameFull == "") {
      return ["emptyReturn", 11]
    }
    let _splitter = myCardNameFull.split('(')
    // console.log(_splitter)
    let myCardName = _splitter[0].trim()
    let myCardExpansion = _splitter[1].split(')')[0].trim()

    let mvid = ``
    let myManaVal
    try {
      // let mvid = standard.data.BRO.cards.filter(o => o.name.indexOf(myCardName)!=-1)[0].identifiers.multiverseId
      //  mvid = standard.data.BRO.cards.filter(o => o.name == (myCardName) )[0].identifiers.multiverseId
      let myUniqueData = standard.data[myCardExpansion].cards.filter(o => o.name == (myCardName))[0]
      // console.log(standard.data[myUniqueData])
      mvid = myUniqueData.identifiers.multiverseId
      myManaVal = myUniqueData.manaValue

    } catch (e) { 
      // console.log(myCardNameFull)
      // console.log(e)
      // return [`MISSING -- ${myCardNameFull}`, 0] 
      return [`${myCardNameFull}`, 0] 
    }
    let getGWUrl = id => `https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=${id}&type=card`
    return [getGWUrl(mvid), myManaVal]
  })

  // outt=document.getElementById('outt')
  // outt=document.getElementsByClassName('outt')[0]
  myDeckSrcs.map((inData, i) => {
    let newI = document.createElement('img')
    newI.src = inData[0]
    newI.alt = inData[0]
    newI.onclick = e => window.open(inData[0], '_blank'); 
    newI.title = `${inData[0]} -- ${inData[1]}`
    // console.log(inData)

    // if(i < 10)
    // outt.appendChild(newI)
    document.getElementById(`outt${inData[1]}`).appendChild(newI)
    // document.getElementsByClassName(`outt${inData[1]}`)[0]
  })

  // console.log(myDeckSrcs)
</script>

</html>